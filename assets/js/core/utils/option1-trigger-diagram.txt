[DASHBOARD UI]
  |
  |-- User selects payment option (Option 1 / 2 / 3)
  |-- Clicks "Pay Now"
  v
[OPTION TRIGGER]
  |
  |-- runOptionXPayment(user, payment)
  |-- Calls gatePayment(option)
  v
[PAYMENT GATE]
  |
  |-- Checks current mode: SIMULATION / LIVE / UNKNOWN
  |-- Returns:
  |     { allowed: true/false, environment: SIMULATION/LIVE, reason? }
  v
[OPTION TRIGGER]
  |
  |-- If allowed → calls processPayment(payment, {mode, environment, user})
  |-- If blocked → returns { status: 'BLOCKED', reason }
  |-- Catches any errors → returns { status: 'FAILED', error }
  v
[DASHBOARD UI]
  |
  |-- Receives result {status, reason?, error?, data?}
  |-- Updates UI / alerts user
       - BLOCKED → show gate reason
       - SUCCESS → show confirmation
       - FAILED → show error
