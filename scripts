 git - update

#!/bin/bash
# Master Generator Script for QT AI
# Enhancements: --watch mode, perpetual monitoring, command echoing

set -euo pipefail

echo "üöÄ Master Generator Script starting..."

# Log executed commands
log_command() {
    echo "[EXEC] $*"
    "$@"
}

# Function to generate modules
generate_modules() {
    echo "üîß Generating all modules..."
    for module in module01 module02 module03 module04 module05 \
                  module06 module07 module08 module09 module10 \
                  module11 module12 module13 module14 module15; do
        if [ -x "./$module/generate.sh" ]; then
            log_command "./$module/generate.sh"
        else
            echo "‚ö†Ô∏è  Skipping $module (no generate.sh found)"
        fi
    done
}

# Watch mode
if [[ "${1:-}" == "--watch" ]]; then
    echo "üëÄ Watch mode enabled: monitoring login sessions & re-running on changes"
    while true; do
        # Echo login users
        who | awk '{print "[LOGIN] " $0}'
        # Run generation cycle
        generate_modules
        echo "‚è≥ Sleeping 60s before next cycle..."
        sleep 60
    done
else
    # One-time run
    generate_modules
    echo "‚úÖ Master Generator Script completed successfully."
fi
