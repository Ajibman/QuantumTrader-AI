#!/bin/bash
# pre-commit hook for automatic logging into TEST_LOG.md

LOGFILE="TEST_LOG.md"
TIMESTAMP=$(date +"%Y-%m-%d %H:%M:%S")

# Function to append log entry
log() {
  echo "[$TIMESTAMP] $1" >> "$LOGFILE"
}

# Always include TEST_LOG.md in commit
if [ -f "$LOGFILE" ]; then
  git add "$LOGFILE"
  log "Pre-commit hook triggered: TEST_LOG.md updated and staged."
else
  echo "⚠️ $LOGFILE not found. Creating new log."
  echo "[$TIMESTAMP] Pre-commit hook created TEST_LOG.md" > "$LOGFILE"
  git add "$LOGFILE"
fi

# Optional: log all changes being committed
CHANGED_FILES=$(git diff --cached --name-only)
log "Files staged for commit: $CHANGED_FILES"

echo "✅ Pre-commit hook completed: TEST_LOG.md updated."

cd path/to/QuantumTrader-AI/.git/hooks/

touch pre-commit
chmod +x pre-commit

#!/bin/bash
# pre-commit hook to run pre-merge.sh before every commit

echo "🔔 Running pre-merge checks before commit..."
sh ../pre-merge.sh

git commit -m "Test pre-commit hook"
