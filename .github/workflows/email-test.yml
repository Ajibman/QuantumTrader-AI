name: ✉️ QuantumTraderAI Email Test

on:
  workflow_dispatch:  # This allows you to run it manually from GitHub Actions tab

jobs:
  send_test_email:
    runs-on: ubuntu-latest
    steps:
      - name: 📦 Checkout repository
        uses: actions/checkout@v4

      - name: 📨 Send rollout test email
        uses: dawidd6/action-send-mail@v3
        with:
          server_address: smtp.gmail.com
          server_port: 465
          username: ${{ secrets.EMAIL_USER }}
          password: ${{ secrets.EMAIL_PASSWORD }}
          subject: "✅ QuantumTraderAI GitHub Email Test Successful"
          to: ajibulurobotman@gmail.com
          from: "QuantumTrader AI <${{ secrets.EMAIL_USER }}>"
          secure: true
          body: |
            Hello Olagoke Ajibulu,

            This is an automated message confirming that your GitHub Action can now send email reports using Gmail.

            ✅ Repository: QuantumTrader-AI
            ✅ Action: email-test.yml
            ✅ Status: Success
            ✅ Date: ${{ github.event.head_commit.timestamp }}

            Yours faithfully,  
            — QT AI Auto Reporting Engine
