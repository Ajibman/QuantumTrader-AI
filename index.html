 <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QuantumTrader AI - App Ready</title>
<style>
  body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f5f8fa;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    min-height: 100vh;
    padding-top: 50px;
  }

  /* CHARACTER */
  #character {
    position: relative;
    width: 200px;
    height: 200px;
    margin-bottom: 50px;
  }

  .eye {
    position: absolute;
    width: 40px;
    height: 40px;
    background: white;
    border-radius: 50%;
    border: 2px solid #333;
    overflow: hidden;
  }

  .pupil {
    position: absolute;
    width: 20px;
    height: 20px;
    background: #333;
    border-radius: 50%;
    top: 10px;
    left: 10px;
    transition: transform 0.3s ease-out;
  }

  #eye-left { top: 50px; left: 40px; }
  #eye-right { top: 50px; right: 40px; }

  #mouth {
    position: absolute;
    bottom: 40px;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 10px;
    background: #c33;
    border-radius: 5px;
    transition: height 0.1s ease-out;
  }

  /* MODULE BUTTONS */
  #modules {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    margin-bottom: 50px;
  }

  .module-button {
    padding: 15px 25px;
    background: #6dd5fa;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    font-size: 1rem;
    color: #fff;
    flex: 0 0 150px; /* equal width for all buttons */
    text-align: center;
    transition: background 0.3s, transform 0.2s;
  }

  .module-button:hover,
  .module-button:focus {
    background: #5bb0d9; 
    transform: scale(1.05);
    outline: none;
  }

  audio {
    margin-top: 20px;
    width: 90%;
    max-width: 500px;
  }
</style>
</head>
<body>

<!-- CHARACTER -->
<div id="character">
  <div id="eye-left" class="eye"><div class="pupil"></div></div>
  <div id="eye-right" class="eye"><div class="pupil"></div></div>
  <div id="mouth"></div>
</div>

<!-- MODULE BUTTONS -->
<div id="modules">
  <button class="module-button">TraderLab</button>
  <button class="module-button">Trading Floor</button>
  <button class="module-button">CPilot</button>
  <button class="module-button">Analytics</button>
  <button class="module-button">Portfolio</button>
  <button class="module-button">Settings</button>
</div>

<audio id="voice" src="voice_sample.mp3" controls></audio>

<script>
const mouth = document.getElementById('mouth');
const leftPupil = document.querySelector('#eye-left .pupil');
const rightPupil = document.querySelector('#eye-right .pupil');
const buttons = document.querySelectorAll('.module-button');
const audio = document.getElementById('voice');

let audioCtx, analyser, dataArray;

// Initialize audio analyser when audio plays
audio.addEventListener('play', () => {
  if (!audioCtx) {
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    const source = audioCtx.createMediaElementSource(audio);
    analyser = audioCtx.createAnalyser();
    source.connect(analyser);
    analyser.connect(audioCtx.destination);
    analyser.fftSize = 256;
    dataArray = new Uint8Array(analyser.frequencyBinCount);
    animateLips();
  }
});

// Animate lips based on audio amplitude
function animateLips() {
  requestAnimationFrame(animateLips);
  analyser.getByteFrequencyData(dataArray);
  const avg = dataArray.reduce((a,b)=>a+b,0)/dataArray.length;
  const newHeight = 10 + (avg / 255) * 30; // 10px closed -> 40px max open
  mouth.style.height = `${newHeight}px`;
}

// Smooth eyes tracking active module
buttons.forEach(btn => {
  btn.addEventListener('mouseover', () => moveEyesTo(btn));
  btn.addEventListener('focus', () => moveEyesTo(btn));
  btn.addEventListener('click', () => moveEyesTo(btn));
});

function moveEyesTo(button) {
  const rect = button.getBoundingClientRect();
  const charRect = document.getElementById('character').getBoundingClientRect();
  const x = rect.left + rect.width/2 - charRect.left - 20;
  const y = rect.top + rect.height/2 - charRect.top - 20;

  leftPupil.style.transform = `translate(${x/10}px, ${y/10}px)`;
  rightPupil.style.transform = `translate(${x/10}px, ${y/10}px)`;
}
</script>

</body>
</html>
