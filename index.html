 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QuantumTrader AI™</title>

  <!-- Core Styles -->
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="manifest" href="manifest.json" />

  <style>
    :root {
      --bg:#000428; --card:#071226; --muted:#bbb; --accent:#1abc9c;
      --buy:#2ecc71; --sell:#e74c3c; --hold:#f39c12;
      --panel-gap:12px; --header-gap:18px;
    }

    body {
      margin:0; padding:0;
      font-family:Inter, Arial, sans-serif;
      color:#fff;
      background:var(--bg);
    }

    .container{max-width:1120px; margin:0 auto; padding:18px;}
    header{display:flex; justify-content:center; align-items:center; gap:var(--header-gap); flex-wrap:wrap;}
    header img{max-height:80px; height:auto; display:block;}
    h1{text-align:center; font-size:24px;}
    h2{text-align:center; font-size:18px; color:var(--muted); margin-bottom:24px;}
    .status{text-align:center; margin-bottom:16px; font-size:14px; color:var(--muted);}
    .modules{display:flex; flex-wrap:wrap; gap:16px; justify-content:center;}
    .module-btn{
      background:var(--accent); color:#061018; padding:16px 24px;
      border:none; border-radius:8px; cursor:pointer;
      font-weight:700; flex:0 1 140px; text-align:center;
      transition:transform .12s ease;
    }
    .module-btn:hover{transform:translateY(-3px);}
    .radio-panel{display:none; flex-direction:column; gap:8px; margin-top:12px; background:rgba(0,0,0,0.2); padding:12px; border-radius:8px;}
    .radio-panel label{font-size:14px; cursor:pointer;}
    #dashboard-mode{display:none;}
    #dashboard-mode.active{display:block;}
    #home-mode.active{display:block;}
    #home-mode{display:block;}
  </style>
</head>

<body>
  <div class="container">
    <!-- Header -->
    <header>
      <img src="assets/images/peace_index_logo.png" class="logo" alt="Peace Index Logo">
    </header>

    <!-- =========================
         Home / Landing Mode
    ========================== -->
    <main id="home-mode" class="active">
      <h1>Welcome to QuantumTrader AI™</h1>
      <h2>Activate modules after training completion and payment</h2>
      <div id="activationStatus" class="status">Checking activation & payment status...</div>

      <!-- Module Buttons -->
      <div class="modules">
        <button id="tradingFloorBtn" class="module-btn">Trading Floor</button>
        <button id="traderLabBtn" class="module-btn">TraderLab™</button>
        <button id="cpilotBtn" class="module-btn">CPilot</button>
        <button id="paymentBtn" class="module-btn">Payment Gate</button>
      </div>

      <!-- CPilot Radio Panel -->
      <div id="cpilotPanel" class="radio-panel">
        <strong>Market Selection:</strong>
        <label><input type="radio" name="market" value="crypto"> Crypto</label>
        <label><input type="radio" name="market" value="forex"> Forex</label>
        <label><input type="radio" name="market" value="oil"> Oil</label>
        <label><input type="radio" name="market" value="commodities"> Commodities</label>
        <label><input type="radio" name="market" value="metals"> Metals</label>

        <strong>Mode:</strong>
        <label><input type="radio" name="mode" value="manual"> Manual</label>
        <label><input type="radio" name="mode" value="semi"> Semi-Auto</label>
        <label><input type="radio" name="mode" value="auto"> AutoTrade</label>

        <strong>Duration:</strong>
        <label><input type="radio" name="duration" value="30s"> 30 seconds</label>
        <label><input type="radio" name="duration" value="1m"> 1 minute</label>
        <label><input type="radio" name="duration" value="30m"> 30 minutes</label>
        <label><input type="radio" name="duration" value="1h"> 1 hour</label>
        <label><input type="radio" name="duration" value="24h"> 24 hours</label>
        <label><input type="radio" name="duration" value="48h"> 48 hours</label>
        <label><input type="radio" name="duration" value="72h"> 72 hours</label>
        <label><input type="radio" name="duration" value="4d"> 4 days</label>
        <label><input type="radio" name="duration" value="5d"> 5 days</label>
        <label><input type="radio" name="duration" value="6d"> 6 days</label>
        <label><input type="radio" name="duration" value="7d"> 7 days</label>
      </div>
    </main>

    <!-- =========================
         Dashboard Mode (Dormant)
    ========================== -->
    <main id="dashboard-mode">
      <h2>Dashboard Mode (Activated After Training & Payment)</h2>
    </main>

    <footer>
      © 2025 QuantumTrader AI™ | Olagoke Ajibulu — Architect, Concepts & Design
    </footer>
  </div>

  <!-- =========================
       App JS
  ========================== -->
  <script type="module">
    import { state } from './assets/js/core/state.js';
    import { handlePaymentRequest } from './assets/js/core/payment.js';
    import { runOption1Payment } from './utils/option1-trigger.js';
    import { runOption2Payment } from './utils/option2-trigger.js';
    import { runOption3Payment } from './utils/option3-trigger.js';

    const activationStatus = document.getElementById('activationStatus');
    const homeMode = document.getElementById('home-mode');
    const dashboardMode = document.getElementById('dashboard-mode');
    const tradingFloorBtn = document.getElementById('tradingFloorBtn');
    const traderLabBtn = document.getElementById('traderLabBtn');
    const cpilotBtn = document.getElementById('cpilotBtn');
    const paymentBtn = document.getElementById('paymentBtn');
    const cpilotPanel = document.getElementById('cpilotPanel');
    const payBtn = document.getElementById('payBtn');
    const paymentOption = document.getElementById('paymentOption');

    function updateActivationStatus() {
      const msg = [];
      msg.push(state.trainingCompleted ? 'Training ✅' : 'Training ❌');
      msg.push(state.paymentLayer==='LIVE' ? 'Payment ✅' : 'Payment ❌');
      activationStatus.textContent = msg.join(' | ');
    }
    updateActivationStatus();

    function enterDashboard() {
      homeMode.classList.remove('active');
      dashboardMode.classList.add('active');
    }

    // ---------- Module Buttons ----------
    tradingFloorBtn.addEventListener('click', () => {
      if (!state.trainingCompleted || state.paymentLayer !== 'LIVE') {
        alert('Complete training and payment to access Trading Floor.');
        return;
      }
      enterDashboard();
    });

    traderLabBtn.addEventListener('click', () => {
      if (!state.trainingCompleted) {
        alert('Complete training to access TraderLab™.');
        return;
      }
      window.location.href = 'traderlab.html';
    });

    cpilotBtn.addEventListener('click', () => {
      cpilotPanel.style.display = cpilotPanel.style.display === 'flex' ? 'none' : 'flex';
    });

    paymentBtn.addEventListener('click', () => {
      const method = prompt('Enter payment method (CARD/TRANSFER):', 'CARD');
      const amount = parseFloat(prompt('Enter amount in NGN:', '10000'));
      handlePaymentRequest(method, amount);
      updateActivationStatus();
    });

    // Optional: Safe click observer (visual confirmation)
    document.addEventListener('click', (e) => {
      const btn = e.target.closest('.module-btn');
      if (!btn) return;
      btn.style.outline = '2px solid #1abc9c';
      setTimeout(() => btn.style.outline = '', 300);
    });
  </script>
</body>
</html>
