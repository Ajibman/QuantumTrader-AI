<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quantum Trader AI</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; font-family: Arial, sans-serif; }

  body {
    background-color: #f0f4f8;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    min-height: 100vh;
    padding: 20px;
  }

  header {
    width: 100%;
    text-align: center;
    margin-bottom: 20px;
  }

  header img { max-width: 150px; height: auto; }

  main {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    max-width: 480px;
  }

  .image-container { margin-bottom: 20px; position: relative; }

  .image-container img { width: 100%; max-width: 300px; height: auto; display: block; }

  .buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    width: 100%;
  }

  .buttons button {
    position: relative;
    background: linear-gradient(145deg, #66c0c1, #345f7f);
    border: none;
    color: white;
    padding: 15px 10px;
    font-size: 16px;
    border-radius: 12px;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s, opacity 0.3s;
  }

  .buttons button:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.2); }

  .buttons button:disabled, .locked { opacity: 0.5; cursor: not-allowed; }

  .buttons button .icon { position: absolute; right: 10px; top: 10px; font-size: 18px; }

  footer { margin-top: auto; text-align: center; padding: 10px 0; }
  footer img { max-width: 100px; height: auto; }
</style>
</head>

<body>

<header>
  <img src="peace_index_logo.png" alt="Peace Index Logo">
  <div class="peace-caption">Peace before Profits</div>
</header>

<main>
  <div class="image-container">
    <img src="qtai_globe.png" alt="Quantum Trader AI Globe">
  </div>

  <div class="buttons">
    <button id="traderLabBtn">Trader Lab <span class="icon" id="traderIcon">üîí</span></button>
    <button id="tradingFloorBtn" class="locked">Trading Floor <span class="icon">üîí</span></button>
    <button id="cPilotBtn" class="locked">CPilot <span class="icon">üîí</span></button>
    <button id="gamesPavilionBtn">Games Pavilion <span class="icon">‚ÑπÔ∏è</span></button>
    <button id="helpBtn">Help <span class="icon">‚ÑπÔ∏è</span></button>
    <button id="settingsBtn" class="locked">Settings <span class="icon">üîí</span></button>
  </div>

  <p class="wallet" style="margin-top:15px;">Wallet Balance: #<span id="walletBalance">0.00</span></p>

</main>

<footer>
  <img src="qtai_ori_olokun.png" alt="Ori Ologo">
</footer>

<script>
const SUB_KEY = "qtai_traderlab_subscription";
const WALLET_KEY = "QT_WALLET";
const MIN_CAPITAL = 10000; // minimum capital to trade

let paymentStatus = false;

function initWallet() {
  if (!localStorage.getItem(WALLET_KEY)) {
    localStorage.setItem(WALLET_KEY, JSON.stringify({
      balance: MIN_CAPITAL,
      history: [],
      lastUpdated: Date.now()
    }));
  }
  updateWalletUI();
}

function updateWalletUI() {
  const wallet = JSON.parse(localStorage.getItem(WALLET_KEY));
  const walletSpan = document.getElementById("walletBalance");
  walletSpan.textContent = wallet.balance.toFixed(2);
}

function paymentFlow() {
  const pay = confirm("Pay NGN 10,000 to activate TraderLab & initialize wallet?");
  if(pay){
    localStorage.setItem(SUB_KEY, JSON.stringify({expiry: Date.now() + 30*24*60*60*1000}));
    initWallet();
    alert(`Payment successful! Wallet initialized with #${MIN_CAPITAL}`);
    paymentStatus = true;
    unlockModules();
    return true;
  } else {
    alert("Payment required to proceed.");
    return false;
  }
}

function subscriptionActive() {
  const data = JSON.parse(localStorage.getItem(SUB_KEY) || '{}');
  return data.expiry && new Date().getTime() < new Date(data.expiry).getTime();
}

function unlockModules(){
  document.getElementById("traderLabBtn").querySelector(".icon").textContent = "‚úÖ";
  document.getElementById("tradingFloorBtn").classList.remove("locked");
  document.getElementById("cPilotBtn").classList.remove("locked");
  document.getElementById("settingsBtn").classList.remove("locked");
}

document.getElementById("traderLabBtn").addEventListener("click", (e)=>{
  if(!subscriptionActive() && !paymentStatus){
    e.preventDefault();
    paymentFlow();
  } else {
    window.location.href = "traderlab.html";
  }
});

document.getElementById("tradingFloorBtn").onclick = () => {
  if(subscriptionActive()) window.location.href = "tradingfloor.html";
  else alert("Trading Floor locked. Complete payment first.");
};

document.getElementById("cPilotBtn").onclick = () => {
  if(subscriptionActive()) window.location.href = "cpilot.html";
  else alert("CPilot locked. Complete payment first.");
};

document.getElementById("gamesPavilionBtn").onclick = () => alert("Games Pavilion is informational.");
document.getElementById("helpBtn").onclick = () => alert("Help module coming soon.");
document.getElementById("settingsBtn").onclick = () => alert("Settings locked. Complete payment first.");

// Initialize wallet UI on load if subscription already exists
if(subscriptionActive()) {
  paymentStatus = true;
  initWallet();
  unlockModules();
} else {
  document.getElementById("walletBalance").textContent = "0.00";
}
</script>

</body>
</html>
