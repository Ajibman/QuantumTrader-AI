 <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QuantumTrader AI™ — Dashboard</title>

<style>
:root {
  --bg: #000428;
  --card: #071226;
  --accent: #00ffe7;
  --text: #ffffff;
}

body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background: var(--bg);
  color: var(--text);
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

header {
  padding: 1rem 2rem;
  background: var(--card);
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 2px 5px rgba(0,0,0,0.5);
}

main {
  flex: 1;
  padding: 2rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2rem;
}

/* Hidden modules */
.module-card { display: none; }

/* Buttons */
button {
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 0.5rem;
  background: var(--accent);
  color: var(--bg);
  cursor: pointer;
  transition: background 0.3s ease;
  margin-left: 0.5rem;
}

button:hover { background: #00ffd0; }

/* Panels */
.panel {
  width: 90%;
  max-width: 800px;
  padding: 1rem;
  border-radius: 1rem;
  background: #08192e;
  box-shadow: 0 2px 10px rgba(0,0,0,0.5);
  text-align: left;
  color: #00ffe7;
  font-family: monospace;
}

/* Ori Ologo */
.ori-ologo-container {
  display: flex;
  justify-content: center;
  margin: 2rem 0 1rem 0;
}

#ori-ologo {
  width: 80px;
  height: auto;
  opacity: 0.9;
  animation: pulse 3s ease-in-out infinite;
}

@keyframes pulse {
  0% { transform: scale(1); opacity: 0.9; }
  50% { transform: scale(1.05); opacity: 1; }
  100% { transform: scale(1); opacity: 0.9; }
}

footer {
  padding: 1rem 2rem;
  background: var(--card);
  text-align: center;
  font-size: 0.9rem;
  color: var(--text);
  box-shadow: 0 -2px 5px rgba(0,0,0,0.5);
}

#autotrader-container {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 0.5rem;
  font-size: 0.9rem;
}
</style>
</head>

<body>

<header>
  <h1>QuantumTrader AI™</h1>
  <nav>
    <button id="btn-sim">Simulation</button>
    <button id="btn-live">Live</button>
    <button id="btn-reset">Reset</button>
    <button id="btn-help">Help</button>
  </nav>
</header>

<main id="dashboard">

  <!-- Hidden modules -->
  <div class="module-card" id="module-01">Module 01</div>
  <div class="module-card" id="module-02">Module 02</div>
  <div class="module-card" id="module-03">Module 03</div>
  <div class="module-card" id="module-04">Module 04</div>
  <div class="module-card" id="module-05">Module 05</div>
  <div class="module-card" id="module-06">Module 06</div>
  <div class="module-card" id="module-07">Module 07</div>
  <div class="module-card" id="module-08">Module 08</div>
  <div class="module-card" id="module-09">Module 09</div>
  <div class="module-card" id="module-10">Module 10</div>
  <div class="module-card" id="module-11">Module 11</div>
  <div class="module-card" id="module-12">Module 12</div>
  <div class="module-card" id="module-13">Module 13</div>
  <div class="module-card" id="module-14">Module 14</div>
  <div class="module-card" id="module-15">Module 15</div>

  <!-- Trading Floor -->
  <div id="trading-floor" class="panel">
    Trading Floor Apex (Locked — Payment Required)
  </div>

  <!-- TraderLab -->
  <div id="traderlab-panel" class="panel">
    TraderLab Simulation Output...
  </div>

  <!-- CPilot Panel -->
  <div id="cpilot-panel" class="panel">
    CPilot Live Output...
    <div id="autotrader-container">
      <label><input type="checkbox" id="autotrader-toggle" disabled> Enable Auto Trader</label>
    </div>
  </div>

</main>

<!-- Ori Ologo -->
<div class="ori-ologo-container">
  <img id="ori-ologo" src="assets/images/qtai_ori_olokun.png" alt="Ori Ologo">
</div>

<footer>
  &copy; 2026 QuantumTrader AI™ — All Rights Reserved
</footer>

<script src="js/state.js"></script>
<script src="js/simulation.js"></script>
<script src="js/ui.js"></script>
<script>
// Modules array
const modules = [];
for (let i = 1; i <= 15; i++) {
  modules.push(document.getElementById(`module-${String(i).padStart(2,'0')}`));
}

// States
let currentModuleIndex = 0;
let autoTraderEnabled = false;
let trainingCompleted = false;
let paymentCompleted = false;
let subscriptionActive = false;
let subscriptionStart = null;
const subscriptionDays = 30;

// AutoTrader toggle
document.getElementById('autotrader-toggle').addEventListener('change', e => {
  autoTraderEnabled = e.target.checked;
  console.log('AutoTrader:', autoTraderEnabled ? 'Enabled' : 'Disabled');
});

// CPilot logic
function cpilotUpdate(activeModule) {
  if(!paymentCompleted || !subscriptionActive || !trainingCompleted) return;
  if (autoTraderEnabled) {
    document.getElementById('cpilot-panel').textContent =
      `CPilot AutoTrader executed trade from ${activeModule.id}`;
  } else {
    document.getElementById('cpilot-panel').textContent =
      `CPilot Suggestion: ${activeModule.id}`;
  }
}

// Module rotation
function rotateModules() {
  modules.forEach(m => m.style.display = 'none'); // hidden
  const activeModule = modules[currentModuleIndex];
  activeModule.style.display = 'none';
  document.getElementById('traderlab-panel').textContent =
    `TraderLab Output from ${activeModule.id}`;
  cpilotUpdate(activeModule);
  currentModuleIndex = (currentModuleIndex + 1) % modules.length;
}
setInterval(rotateModules, 2000);
rotateModules();

// Access control
function checkAccess() {
  const tradingFloor = document.getElementById('trading-floor');
  const cpilotToggle = document.getElementById('autotrader-toggle');
  const btnLive = document.getElementById('btn-live');

  if(paymentCompleted && subscriptionActive && trainingCompleted){
    tradingFloor.style.opacity = 1;
    cpilotToggle.disabled = false;
    btnLive.disabled = false;
    tradingFloor.textContent = 'Trading Floor Apex (Unlocked)';
  } else {
    tradingFloor.style.opacity = 0.5;
    cpilotToggle.disabled = true;
    btnLive.disabled = true;
    tradingFloor.textContent = 'Trading Floor Apex (Locked — Payment Required)';
  }
}

// Payment & subscription functions
function initialPaymentReceived() {
  paymentCompleted = true;
  subscriptionActive = true;
  subscriptionStart = new Date();
  console.log('Initial payment received.');
  checkAccess();
}

function renewSubscription() {
  subscriptionActive = true;
  subscriptionStart = new Date(); // reset 30-day cycle
  console.log('Subscription renewed.');
  checkAccess();
}

// TraderLab completion
function completeTraderLab() {
  trainingCompleted = true;
  console.log('TraderLab completed.');
  checkAccess();
}

// Subscription expiration check
function checkSubscription() {
  if(!subscriptionStart) return;
  const now = new Date();
  const expiryDate = new Date(subscriptionStart);
  expiryDate.setDate(expiryDate.getDate() + subscriptionDays);
  if(now >= expiryDate){
    subscriptionActive = false;
    console.log('Subscription expired: Trading Floor & AutoTrader locked.');
    checkAccess();
  }
}
setInterval(checkSubscription, 60*1000); // check every minute

// Initial check
checkAccess();

// Button wiring
document.getElementById('btn-sim').addEventListener('click', () => {
  console.log('Simulation mode activated');
  document.getElementById('traderlab-panel').style.display = 'block';
  document.getElementById('cpilot-panel').style.display = 'none';
});

document.getElementById('btn-live').addEventListener('click', () => {
  console.log('Live mode activated');
  document.getElementById('traderlab-panel').style.display = 'none';
  document.getElementById('cpilot-panel').style.display = 'block';
});

document.getElementById('btn-reset').addEventListener('click', () => {
  console.log('Reset triggered');
  currentModuleIndex = 0;
});

document.getElementById('btn-help').addEventListener('click', () => {
  console.log('Help requested');
});
</script>

</body>
</html>
