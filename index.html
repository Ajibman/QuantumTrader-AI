 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QuantumTrader AI</title>

  <!-- Core styles -->
  <link rel="stylesheet" href="qtai.css" />
  <link rel="stylesheet" href="css/style.css" />

  <style>
    .module { display: none; margin-top: 10px; }
    .module.active { display: block; }

    #globe-container,
    #tradingfloor-apex,
    #main-nav {
      text-align: center;
      margin: 20px 0;
    }

    #practice-dashboard {
      border: 1px solid #ccc;
      padding: 12px;
      margin: 10px auto;
      max-width: 520px;
      text-align: center;
      border-radius: 6px;
    }

    .nav-btn {
      margin: 0 5px;
      padding: 8px 16px;
      cursor: pointer;
    }

    #start-autotrader {
      background: #0a7d32;
      color: #fff;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      font-size: 15px;
      cursor: pointer;
      margin-top: 15px;
    }

    #start-autotrader:disabled {
      background: #999;
      cursor: not-allowed;
    }

    .cpilot-status {
      margin-top: 10px;
      font-weight: bold;
    }

    .tp-group { margin-top: 12px; }
  </style>
</head>

<body>

  <!-- ðŸŒ Globe -->
  <section id="globe-container">
    <img src="qtai_globe.png" alt="QuantumTrader AI Globe" width="300">
  </section>

  <!-- ðŸ”º TradingFloor Apex -->
  <section id="tradingfloor-apex">
    <img src="tradingfloor2_main.png" alt="Trading Floor Apex" width="300">
  </section>

  <!-- ðŸ“Š Practice Dashboard -->
  <div id="practice-dashboard">
    <h3>Practice Dashboard</h3>
    <p>Status: Simulation Mode</p>
    <div id="walletDisplay">Balance: 0</div>
  </div>

  <!-- ðŸ§­ Navigation -->
  <nav id="main-nav">
    <button class="nav-btn" data-target="tradingfloor">Trading Floor</button>
    <button class="nav-btn" data-target="traderlab">TraderLab</button>
    <button class="nav-btn" data-target="cpilot">CPilot</button>
  </nav>

  <!-- ðŸ§© Modules -->
  <section id="modules">

    <div class="module active" id="tradingfloor">
      <div class="tf-feed"></div>
    </div>

    <div class="module" id="traderlab">
      <h3>TraderLab Simulation</h3>

      <label><strong>Asset Class</strong></label><br>
      <select id="asset-class">
        <option value="crypto">Crypto</option>
        <option value="forex">Forex</option>
        <option value="commodity">Commodity</option>
      </select>

      <br><br>

      <label><strong>Asset</strong></label><br>
      <select id="asset-select">
        <option value="BTC">BTC</option>
        <option value="ETH">ETH</option>
        <option value="SOL">SOL</option>
      </select>

      <div class="trade-result" style="margin-top:10px;"></div>
    </div>

    <div class="module" id="cpilot">
      <img src="qtai_cpilot_panel.png" alt="CPilot Panel" width="300">

      <div class="tp-group">
        <label><strong>Take Profit (Seconds)</strong></label><br>
        <select id="cpilot-duration-seconds">
          <option value="30">30</option>
          <option value="60">60</option>
          <option value="120">120</option>
          <option value="180">180</option>
          <option value="240">240</option>
          <option value="300">300</option>
        </select>
      </div>

      <div class="tp-group">
        <label><strong>Take Profit (Days)</strong></label><br>
        <label><input type="radio" name="tp-days" value="1">1</label>
        <label><input type="radio" name="tp-days" value="3">3</label>
        <label><input type="radio" name="tp-days" value="5">5</label>
      </div>

      <button id="start-autotrader">Start AutoTrader</button>
      <div class="cpilot-status" id="autotrader-status">
        AutoTrader idle (simulation)
      </div>
    </div>

  </section>

  <!-- Core JS -->
  <script type="module" src="js/core/bootstrap.js"></script>
  <script type="module" src="js/core/simulation/traderLab.js"></script>
  <script type="module" src="js/core/utils/helpers.js"></script>

  <!-- DEV / PRIVATE MODE (30-Day Personal Run) -->
  <script>
    (function () {
      const PRIVATE_MODE = true;
      if (!PRIVATE_MODE) return;

      if (!localStorage.getItem("qtai_user_role")) {
        localStorage.setItem("qtai_user_role", "exclusive_trader");
      }

      if (!localStorage.getItem("qtai_subscription_start")) {
        localStorage.setItem("qtai_subscription_start", new Date().toISOString());
      }

      const banner = document.createElement("div");
      banner.style.cssText =
        "position:fixed;top:0;left:0;width:100%;z-index:9999;" +
        "background:#fffae6;border-bottom:2px solid #f0c000;" +
        "font:14px sans-serif;font-weight:bold;padding:.5rem;text-align:center;";
      document.body.prepend(banner);

      function tick() {
        const start = new Date(localStorage.getItem("qtai_subscription_start"));
        const expiry = new Date(start);
        expiry.setDate(expiry.getDate() + 30);
        const diff = expiry - new Date();

        if (diff <= 0) {
          banner.textContent =
            "âš ï¸ PRIVATE MODE â€” Subscription Expired âš ï¸";
          return;
        }

        const d = Math.floor(diff / 86400000);
        const h = Math.floor(diff / 3600000) % 24;
        const m = Math.floor(diff / 60000) % 60;
        const s = Math.floor(diff / 1000) % 60;

        banner.textContent =
          `âš ï¸ PRIVATE MODE â€” Exclusive Trader â€” Time Left: ${d}d ${h}h ${m}m ${s}s âš ï¸`;
      }

      tick();
      setInterval(tick, 1000);
    })();
  </script>

</body>
</html>
