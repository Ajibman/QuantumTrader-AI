 <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Quantum Trader AIâ„¢ â€” TraderLab</title>

<style>
:root {
  --bg: #050b1f;
  --card: #0b1736;
  --panel: #0e1f44;
  --accent: #7cf3ff;
  --text: #ffffff;
  --notice: #ffcc66;
  --success: #0aff7c;
  --error: #ff3b3b;
}

body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
}

header {
  padding: 20px;
  text-align: center;
  background: var(--card);
}

main {
  padding: 20px;
  max-width: 900px;
  margin: auto;
}

.panel {
  background: var(--panel);
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 20px;
}

h2 { color: var(--accent); }
.notice { color: var(--notice); font-size: 0.9rem; }

button {
  background: var(--accent);
  border: none;
  padding: 10px 16px;
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
}

button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

input {
  width: 100%;
  padding: 10px;
  margin: 10px 0;
  border-radius: 6px;
  border: none;
}

#ori-ologo {
  border-left: 4px solid var(--accent);
  padding-left: 12px;
}
#ori-title {
  color: var(--accent);
  font-weight: bold;
}
</style>
</head>

<body>

<header>
  <h1>Quantum Trader AIâ„¢ â€” TraderLab</h1>
  <p>Peace before Profits</p>
</header>

<main>

<!-- Ori Ologo -->
<div class="panel" id="ori-ologo">
  <div id="ori-title">ðŸ§  Ori Ologo â€” AI Assistant</div>
  <p id="oriSpeech"></p>
</div>

<!-- Wallet Status -->
<div class="panel">
  <h2>Wallet Status</h2>
  <p>Status: <strong id="walletStatus">â€”</strong></p>
  <p>Balance: <strong>â‚¦<span id="walletBalance">0.00</span></strong></p>
  <p class="notice">
    Trading capital is separate from subscription payment.
    Funding wallet does not trigger trading.
  </p>
</div>

<!-- TraderLab Assessment -->
<div class="panel">
  <h2>TraderLab Assessment</h2>
  <p class="notice">
    TraderLab trains discipline and alignment.
    No capital is deployed here.
  </p>

  <button id="startAssessmentBtn">Start Assessment</button>
  <p id="assessmentStatus"></p>
</div>

</main>

<!-- âœ… WALLET UTILITY -->
<script src="core/js/utils/wallet.js"></script>

<script>
/* ============================
   ORI OLOGO
============================ */
const oriSpeech = document.getElementById("oriSpeech");
function oriSpeak(text) {
  oriSpeech.textContent = text;
}

/* ============================
   WALLET (READ-ONLY CONSUMER)
============================ */
const walletStatusEl = document.getElementById("walletStatus");
const walletBalanceEl = document.getElementById("walletBalance");

function refreshWallet() {
  const wallet = Wallet.get();
  walletStatusEl.textContent =
    wallet.balance > 0 ? "Active" : "Inactive";
  walletBalanceEl.textContent = wallet.balance.toFixed(2);
}

/* ============================
   TRADERLAB ASSESSMENT
============================ */
const startAssessmentBtn =
  document.getElementById("startAssessmentBtn");
const assessmentStatusEl =
  document.getElementById("assessmentStatus");

startAssessmentBtn.onclick = () => {
  const wallet = Wallet.get();

  // TraderLab allowed even with zero balance
  Wallet.record({
    source: "TraderLab",
    type: "assessmentStart",
    time: new Date().toISOString()
  });

  oriSpeak(
    "TraderLab session initiated. Capital is irrelevant here. Judgment is everything."
  );

  assessmentStatusEl.textContent =
    "Assessment running. Decisions are being observed.";

  startAssessmentBtn.disabled = true;
};

/* ============================
   INIT
============================ */
oriSpeak(
  "TraderLab ready. Train your judgment. Capital waits."
);
refreshWallet();
</script>

<script>
/* ============================
   WALLET HISTORY VIEW (READ ONLY)
============================ */

(function renderWalletHistory() {
  if (!window.QTWallet) return;

  // Permission safety (TraderLab is authority anyway)
  if (!QTWallet.canAccess("traderlab")) return;

  const container = document.getElementById("walletHistory");
  const history = QTWallet.getHistory();

  if (!history.length) {
    container.innerHTML =
      "<p class='notice'>No wallet activity recorded yet.</p>";
    return;
  }

  const rows = history
    .slice()
    .reverse() // newest first
    .map(evt => {
      return `
        <div style="
          border-bottom: 1px solid rgba(255,255,255,0.08);
          padding: 8px 0;
          font-size: 0.85rem;
        ">
          <div>
            <strong>${evt.type.toUpperCase()}</strong>
            via <em>${evt.source}</em>
          </div>
          <div>
            Amount: â‚¦${evt.amount.toLocaleString()}
            â€¢ Balance: â‚¦${evt.balanceAfter.toLocaleString()}
          </div>
          <div style="opacity:0.7">
            ${new Date(evt.timestamp).toLocaleString()}
          </div>
        </div>
      `;
    })
    .join("");

  container.innerHTML = rows;
})();
</script>
 
</body>
</html>
